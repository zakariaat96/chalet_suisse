{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\real_estate_project\\\\src\\\\pages\\\\AllPropertiesPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport '../styles/AllPropertyListings.css';\nimport Navbar from '../components/Navbar';\nimport PropertyFilters from '../components/PropertyFilters';\nimport Footer from '../components/Footer';\nimport Property from '../components/Property';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AllPropertiesPage = () => {\n  _s();\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const statusFilter = searchParams.get('status') || '';\n  const minPrice = searchParams.get('min_price') || '';\n  const maxPrice = searchParams.get('max_price') || '';\n  useEffect(() => {\n    const fetchProperties = async () => {\n      try {\n        let apiUrl = 'http://localhost/real_estate_project/api/get_all_chalets.php';\n\n        // Build query string based on filters\n        const params = new URLSearchParams();\n        if (statusFilter) params.append('status', statusFilter);\n        if (minPrice) params.append('min_price', minPrice);\n        if (maxPrice) params.append('max_price', maxPrice);\n        if (params.toString()) {\n          apiUrl += `?${params.toString()}`;\n        }\n        const response = await fetch(apiUrl);\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        const data = await response.json();\n        setProperties(data);\n      } catch (err) {\n        console.error('Error fetching chalets:', err);\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProperties();\n  }, [statusFilter, minPrice, maxPrice]);\n  const handleFilterChange = newFilters => {\n    setSearchParams(newFilters);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-properties-page\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading chalets...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-properties-page\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Error loading chalets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-properties-page\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"listings-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"listings-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"listings-title\",\n          children: \"Swiss Chalet Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"listings-subtitle\",\n          children: \"Discover luxury alpine living at its finest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PropertyFilters, {\n        onFilterChange: handleFilterChange,\n        initialFilters: {\n          status: statusFilter,\n          min_price: minPrice,\n          max_price: maxPrice\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), properties.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-properties-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No chalets found matching your criteria\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try adjusting your filters or check back later for new listings.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"properties-grid\",\n        children: properties.map(property => /*#__PURE__*/_jsxDEV(Property, {\n          property: property,\n          variant: \"detailed\"\n        }, property.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n_s(AllPropertiesPage, \"LGVvDLuQj+GC3D4k+UG9YRX1HRg=\", false, function () {\n  return [useSearchParams];\n});\n_c = AllPropertiesPage;\nexport default AllPropertiesPage;\nvar _c;\n$RefreshReg$(_c, \"AllPropertiesPage\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","Navbar","PropertyFilters","Footer","Property","jsxDEV","_jsxDEV","AllPropertiesPage","_s","properties","setProperties","loading","setLoading","error","setError","searchParams","setSearchParams","statusFilter","get","minPrice","maxPrice","fetchProperties","apiUrl","params","URLSearchParams","append","toString","response","fetch","ok","Error","status","data","json","err","console","message","handleFilterChange","newFilters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onFilterChange","initialFilters","min_price","max_price","length","map","property","variant","id","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/real_estate_project/src/pages/AllPropertiesPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport '../styles/AllPropertyListings.css';\r\nimport Navbar from '../components/Navbar';\r\nimport PropertyFilters from '../components/PropertyFilters';\r\nimport Footer from '../components/Footer';\r\nimport Property from '../components/Property';\r\n\r\nconst AllPropertiesPage = () => {\r\n  const [properties, setProperties] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  \r\n  const statusFilter = searchParams.get('status') || '';\r\n  const minPrice = searchParams.get('min_price') || '';\r\n  const maxPrice = searchParams.get('max_price') || '';\r\n\r\n  useEffect(() => {\r\n    const fetchProperties = async () => {\r\n      try {\r\n        let apiUrl = 'http://localhost/real_estate_project/api/get_all_chalets.php';\r\n        \r\n        // Build query string based on filters\r\n        const params = new URLSearchParams();\r\n        if (statusFilter) params.append('status', statusFilter);\r\n        if (minPrice) params.append('min_price', minPrice);\r\n        if (maxPrice) params.append('max_price', maxPrice);\r\n        \r\n        if (params.toString()) {\r\n          apiUrl += `?${params.toString()}`;\r\n        }\r\n\r\n        const response = await fetch(apiUrl);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        setProperties(data);\r\n      } catch (err) {\r\n        console.error('Error fetching chalets:', err);\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProperties();\r\n  }, [statusFilter, minPrice, maxPrice]);\r\n\r\n  const handleFilterChange = (newFilters) => {\r\n    setSearchParams(newFilters);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"all-properties-page\">\r\n        <Navbar />\r\n        <div className=\"loading-container\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Loading chalets...</p>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"all-properties-page\">\r\n        <Navbar />\r\n        <div className=\"error-container\">\r\n          <h2>Error loading chalets</h2>\r\n          <p>{error}</p>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"all-properties-page\">\r\n      <Navbar />\r\n      \r\n      <main className=\"listings-section\">\r\n        <div className=\"listings-header\">\r\n          <h1 className=\"listings-title\">Swiss Chalet Collection</h1>\r\n          <p className=\"listings-subtitle\">\r\n            Discover luxury alpine living at its finest\r\n          </p>\r\n        </div>\r\n\r\n        <PropertyFilters \r\n          onFilterChange={handleFilterChange}\r\n          initialFilters={{ status: statusFilter, min_price: minPrice, max_price: maxPrice }}\r\n        />\r\n\r\n        {properties.length === 0 ? (\r\n          <div className=\"no-properties-message\">\r\n            <h3>No chalets found matching your criteria</h3>\r\n            <p>Try adjusting your filters or check back later for new listings.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"properties-grid\">\r\n            {properties.map((property) => (\r\n              <Property \r\n                key={property.id} \r\n                property={property} \r\n                variant=\"detailed\" \r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </main>\r\n      \r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AllPropertiesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}